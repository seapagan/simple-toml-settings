<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../installation/ rel=prev><link href=../future-plans/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.29"><title>Usage - Simple TOML Settings</title><link rel=stylesheet href=../assets/stylesheets/main.76a95c52.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head><body dir=ltr data-md-color-scheme=default data-md-color-primary=light-blue data-md-color-accent=blue><input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off><input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off><label class=md-overlay for=__drawer></label><div data-md-component=skip><a href=#usage class=md-skip> Skip to content </a></div><div data-md-component=announce></div><header class="md-header md-header--shadow" data-md-component=header><nav class="md-header__inner md-grid" aria-label=Header><a href=.. title="Simple TOML Settings" class="md-header__button md-logo" aria-label="Simple TOML Settings" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a><label class="md-header__button md-icon" for=__drawer><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg></label><div class=md-header__title data-md-component=header-title><div class=md-header__ellipsis><div class=md-header__topic><span class=md-ellipsis> Simple TOML Settings </span></div><div class=md-header__topic data-md-component=header-topic><span class=md-ellipsis> Usage </span></div></div></div><label class="md-header__button md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg></label><div class=md-search data-md-component=search role=dialog><label class=md-search__overlay for=__search></label><div class=md-search__inner role=search><form class=md-search__form name=search><input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required><label class="md-search__icon md-icon" for=__search><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></label><nav class=md-search__options aria-label=Search><button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg></button></nav></form><div class=md-search__output><div class=md-search__scrollwrap tabindex=0 data-md-scrollfix><div class=md-search-result data-md-component=search-result><div class=md-search-result__meta> Initializing search </div><ol class=md-search-result__list role=presentation></ol></div></div></div></div></div><div class=md-header__source><a href=https://github.com/seapagan/simple-toml-settings title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> simple-toml-settings </div></a></div></nav></header><div class=md-container data-md-component=container><main class=md-main data-md-component=main><div class="md-main__inner md-grid"><div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0><label class=md-nav__title for=__drawer><a href=.. title="Simple TOML Settings" class="md-nav__button md-logo" aria-label="Simple TOML Settings" data-md-component=logo><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg></a> Simple TOML Settings </label><div class=md-nav__source><a href=https://github.com/seapagan/simple-toml-settings title="Go to repository" class=md-source data-md-component=source><div class="md-source__icon md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg></div><div class=md-source__repository> simple-toml-settings </div></a></div><ul class=md-nav__list data-md-scrollfix><li class=md-nav__item><a href=.. class=md-nav__link><span class=md-ellipsis> Home </span></a></li><li class=md-nav__item><a href=../installation/ class=md-nav__link><span class=md-ellipsis> Installation </span></a></li><li class="md-nav__item md-nav__item--active"><input class="md-nav__toggle md-toggle" type=checkbox id=__toc><label class="md-nav__link md-nav__link--active" for=__toc><span class=md-ellipsis> Usage </span><span class="md-nav__icon md-icon"></span></label><a href=./ class="md-nav__link md-nav__link--active"><span class=md-ellipsis> Usage </span></a><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#setup class=md-nav__link><span class=md-ellipsis> Setup </span></a></li><li class=md-nav__item><a href=#the-get_instance-method class=md-nav__link><span class=md-ellipsis> The get_instance() method </span></a></li><li class=md-nav__item><a href=#settings-file class=md-nav__link><span class=md-ellipsis> Settings file </span></a></li><li class=md-nav__item><a href=#using-the-settings class=md-nav__link><span class=md-ellipsis> Using the settings </span></a></li><li class=md-nav__item><a href=#options class=md-nav__link><span class=md-ellipsis> Options </span></a><nav class=md-nav aria-label=Options><ul class=md-nav__list><li class=md-nav__item><a href=#settings_file_name class=md-nav__link><span class=md-ellipsis> settings_file_name </span></a></li><li class=md-nav__item><a href=#auto_create class=md-nav__link><span class=md-ellipsis> auto_create </span></a></li><li class=md-nav__item><a href=#local_file class=md-nav__link><span class=md-ellipsis> local_file </span></a></li><li class=md-nav__item><a href=#flat_config class=md-nav__link><span class=md-ellipsis> flat_config </span></a></li><li class=md-nav__item><a href=#xdg_config class=md-nav__link><span class=md-ellipsis> xdg_config </span></a></li></ul></nav></li><li class=md-nav__item><a href=#post-create-hook class=md-nav__link><span class=md-ellipsis> Post-create hook </span></a></li></ul></nav></li><li class=md-nav__item><a href=../future-plans/ class=md-nav__link><span class=md-ellipsis> Future Plans </span></a></li><li class=md-nav__item><a href=../contributing/ class=md-nav__link><span class=md-ellipsis> Contributing </span></a></li><li class=md-nav__item><a href=../changelog/ class=md-nav__link><span class=md-ellipsis> Changelog </span></a></li><li class=md-nav__item><a href=../license/ class=md-nav__link><span class=md-ellipsis> License </span></a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc><div class=md-sidebar__scrollwrap><div class=md-sidebar__inner><nav class="md-nav md-nav--secondary" aria-label="Table of contents"><label class=md-nav__title for=__toc><span class="md-nav__icon md-icon"></span> Table of contents </label><ul class=md-nav__list data-md-component=toc data-md-scrollfix><li class=md-nav__item><a href=#setup class=md-nav__link><span class=md-ellipsis> Setup </span></a></li><li class=md-nav__item><a href=#the-get_instance-method class=md-nav__link><span class=md-ellipsis> The get_instance() method </span></a></li><li class=md-nav__item><a href=#settings-file class=md-nav__link><span class=md-ellipsis> Settings file </span></a></li><li class=md-nav__item><a href=#using-the-settings class=md-nav__link><span class=md-ellipsis> Using the settings </span></a></li><li class=md-nav__item><a href=#options class=md-nav__link><span class=md-ellipsis> Options </span></a><nav class=md-nav aria-label=Options><ul class=md-nav__list><li class=md-nav__item><a href=#settings_file_name class=md-nav__link><span class=md-ellipsis> settings_file_name </span></a></li><li class=md-nav__item><a href=#auto_create class=md-nav__link><span class=md-ellipsis> auto_create </span></a></li><li class=md-nav__item><a href=#local_file class=md-nav__link><span class=md-ellipsis> local_file </span></a></li><li class=md-nav__item><a href=#flat_config class=md-nav__link><span class=md-ellipsis> flat_config </span></a></li><li class=md-nav__item><a href=#xdg_config class=md-nav__link><span class=md-ellipsis> xdg_config </span></a></li></ul></nav></li><li class=md-nav__item><a href=#post-create-hook class=md-nav__link><span class=md-ellipsis> Post-create hook </span></a></li></ul></nav></div></div></div><div class=md-content data-md-component=content><article class="md-content__inner md-typeset"><h1 id=usage>Usage</h1><p>This library is designed to be simple to use, to save and load settings from a TOML file with a minimal of configuration.</p><div class="admonition warning"><p class=admonition-title>Warning</p><p>The current library access methods are not set in stone and may change in the future. We will try to keep the changes to a minimum and will provide a migration path (and backwards compatibility) if we do change them.</p></div><h2 id=setup>Setup</h2><p>Create a class that inherits from the <code>TOMLSettings</code> class and define the settings you want to save as class attributes:</p><div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>simple_toml_settings</span> <span class=kn>import</span> <span class=n>TOMLSettings</span>

<span class=k>class</span> <span class=nc>MySettings</span><span class=p>(</span><span class=n>TOMLSettings</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;My settings class.&quot;&quot;&quot;</span>

    <span class=c1># Define the settings you want to save</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;My Name&quot;</span>
    <span class=n>age</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>53</span>
    <span class=n>favourite_colour</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;blue&quot;</span>
    <span class=n>favourite_number</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>42</span>
    <span class=n>favourite_foods</span><span class=p>:</span> <span class=nb>list</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;pizza&quot;</span><span class=p>,</span> <span class=s2>&quot;chocolate&quot;</span><span class=p>,</span> <span class=s2>&quot;ice cream&quot;</span><span class=p>]</span>
    <span class=n>sub_settings</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;sub_setting_1&quot;</span><span class=p>:</span> <span class=s2>&quot;sub setting 1 text&quot;</span><span class=p>,</span>
        <span class=s2>&quot;sub_setting_2&quot;</span><span class=p>:</span> <span class=s2>&quot;sub setting 2 text&quot;</span><span class=p>,</span>
    <span class=p>}</span>
</code></pre></div><div class="admonition warning"><p class=admonition-title>Use Type-hinting</p><p>Always use typing hints for your settings as shown above. This will allow the library to automatically convert the settings to the correct type when loading them.</p></div><p>You can now create an instance of your settings class and use it to save and load settings:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>)</span>
</code></pre></div><h2 id=the-get_instance-method>The <code>get_instance()</code> method</h2><p>You can also use the <code>get_instance()</code> method to create an instance of your settings class. This is useful if you need to use the settings in multiple places in your app, as it will return an already existing instance of the settings instead of creating a new one. If one does not already exist, it will be created and returned.</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=o>.</span><span class=n>get_instance</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>)</span>
</code></pre></div><p>This is the preferred method and ensures that the settings class is a <strong>Singleton</strong> so you only have one instance of the settings in your app.</p><div class="admonition danger"><p class=admonition-title>Important</p><p>The <code>get_instance()</code> method always returns the same instance of the defined settings class. This means that you cannot have multiple instances of the settings with different settings files. If you need to do this, you should create multiple settings classes, then use their individual <code>get_instance()</code> methods to get the instances.</p><p>It also means that the parameters passed to the <code>get_instance()</code> method are ignored for any instance after the first, and the 'app_name' parameter is always the same but needs to be specified anyway. You still need to pass the parameters to the first instance to create it.</p></div><h2 id=settings-file>Settings file</h2><p>The above will automatically create a sub folder in the user's home directory called <code>.my_app_name</code> and will create a TOML file in it called <code>config.toml</code> containing the default settings. If the file already exists, the settings will be loaded from it.</p><p>The file contents for the above example would be:</p><div class=highlight><pre><span></span><code><span class=k>[my_app_name]</span>
<span class=n>age</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>53</span>
<span class=n>favourite_colour</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;blue&quot;</span>
<span class=n>favourite_number</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>42</span>
<span class=n>name</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;My Name&quot;</span>
<span class=n>schema_version</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;none&quot;</span>
<span class=n>favourite_foods</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;pizza&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;chocolate&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;ice cream&quot;</span><span class=p>]</span>

<span class=k>[my_app_name.sub_settings]</span>
<span class=n>sub_setting_1</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;sub setting 1 text&quot;</span>
<span class=n>sub_setting_2</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;sub setting 2 text&quot;</span>
</code></pre></div><p>The above shows how lists are saved as TOML arrays and dictionaries are saved as TOML tables.</p><div class="admonition note"><p class=admonition-title><code>schema_version</code> key [optional]</p><p>This is used to track the version of the schema used to save the settings. If you change the settings in your app in such a way to make older versions incompatible, you should increment the schema version. If the schema version is not set, it will default to <code>none</code>.</p><p>The schema is checked when the settings are loaded and if the schema version in the file is different to the schema version in the class, an exception will be raised (<strong><code>simple_toml_settings.exceptions.SettingsSchemaError</code></strong>). You can catch this exception and handle it as you wish.</p><p><strong>If the schema version is set to <code>none</code> (or missing) in the file, no schema checking will be performed and no exception raised.</strong></p></div><p>By default the <code>schema_version</code> is set to <code>none</code>. You can change this by passing it to the custom class on creation:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>,</span> <span class=n>schema_version</span><span class=o>=</span><span class=s2>&quot;1.0.0&quot;</span><span class=p>)</span>
</code></pre></div><p>By default, the settings will be saved in a file called <code>config.toml</code> in a subfolder of the user's home directory. You can change this by passing a different filename on creation:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>,</span> <span class=n>settings_file_name</span><span class=o>=</span><span class=s2>&quot;my_settings.toml&quot;</span><span class=p>)</span>
</code></pre></div><p>The subfolder will be created if it does not exist, and is the same as the app name but with a <code>.</code> prepended to it. So, for the above example, the settings will be saved as <code>~/.my_app_name/my_settings.toml</code>.</p><div class="admonition note"><p class=admonition-title>Note</p><p>In future versions the folder name will be configurable, and the folder itself will be optional, so the file can be stored in the user's home folder directly.</p></div><h2 id=using-the-settings>Using the settings</h2><div class="admonition danger"><p class=admonition-title><code>None</code> values</p><p>The library does not support saving <code>None</code> values. If you need to save a <code>None</code> value, you should use a different value (such as an empty string or <code>0</code>) and convert it to <code>None</code> in your app.</p><p>This is because TOML does not support <code>None</code> values and the library will convert <code>None</code> values to <code>null</code> when saving the settings.</p><p>We may add support for this in the future, but for now you should avoid using <code>None</code> values unless they are a default and will never need to be saved - <strong>any <code>None</code> value will not be saved to the config file</strong>.</p></div><p>Once you have created your settings class, you can use it like any other class:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>)</span>
<span class=n>name</span> <span class=o>=</span> <span class=n>settings</span><span class=o>.</span><span class=n>name</span>
<span class=n>settings</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;My New Name&quot;</span>
</code></pre></div><p>There are also <code>get</code> and <code>set</code> methods that can be used to access the settings, this is the preferred method though both methods are supported:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>)</span>
<span class=n>name</span> <span class=o>=</span> <span class=n>settings</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>)</span>
<span class=n>settings</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;My New Name&quot;</span><span class=p>)</span>
</code></pre></div><p>The <code>get</code> method will return <code>None</code> if the setting does not exist.</p><p>The advantage of using the <code>set</code> method is that it will automatically save the changed variable to the config file. If you use the class attributes directly, you will need to call the <code>save</code> method to save the settings:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>)</span>
<span class=n>settings</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=s2>&quot;My New Name&quot;</span>
<span class=n>settings</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</code></pre></div><p>Finally, you can use the <code>load</code> and <code>save</code> methods to load and save the settings manually:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>)</span>
<span class=n>settings</span><span class=o>.</span><span class=n>load</span><span class=p>()</span>
<span class=n>settings</span><span class=o>.</span><span class=n>set</span><span class=p>(</span><span class=s2>&quot;name&quot;</span><span class=p>,</span> <span class=s2>&quot;My New Name&quot;</span><span class=p>)</span>
<span class=n>settings</span><span class=o>.</span><span class=n>save</span><span class=p>()</span>
</code></pre></div><div class="admonition info"><p class=admonition-title>Note</p><p>The <code>load()</code> and <code>save()</code> methods are automatically called when the class is created and when the <code>set</code> method is called respectively. You should not need to call <code>load()</code> manually.</p></div><h2 id=options>Options</h2><p>There are a couple of options you can pass to the <code>TOMLSettings</code> constructor to change the behaviour of the class:</p><h3 id=settings_file_name><code>settings_file_name</code></h3><p>This is the name of the settings file to use. By default this is set to <code>config.toml</code>.</p><h3 id=auto_create><code>auto_create</code></h3><p>This defaults to <code>True</code> and will automatically create the settings file if it does not exist and fill it with the default values. If set to <code>False</code>, the class will raise an exception (<strong><code>simple_toml_settings.exceptions.SettingsNotFoundError</code></strong>) if the settings file does not exist. You can catch this exception and handle it as you wish. <em>The folder will be created anyway if it does not exist, as the assumption is that you will want to save the settings at some point</em>.</p><div class="admonition danger"><p class=admonition-title>Deprecation warning</p><p>The exception was originally called <strong><code>SettingsNotFound</code></strong> but has been renamed to <strong><code>SettingsNotFoundError</code></strong> to be more consistent with Python naming conventions. The old name still works, but will be removed in a future release.</p></div><h3 id=local_file><code>local_file</code></h3><p>This defaults to <code>False</code> and will cause the settings file to be saved/read from the current directory instead of the user's home directory. This is good for utility apps that need different settings for different projects / filelists.</p><h3 id=flat_config><code>flat_config</code></h3><p>This defaults to <code>False</code> and will cause the settings file to be created and read from the users home directory, but without the subfolder. Use this when creating an extra folder in the user's home directory is overkill.</p><h3 id=xdg_config><code>xdg_config</code></h3><p>This defaults to <code>False</code> and will cause the settings file to be created and read as a sub-folder of the XDG config directory. This is useful for applications that want to follow the XDG specification. It will use the <code>XDG_CONFIG_HOME</code> environment variable if it is set, otherwise it will use <code>~/.config</code>.</p><p>So, if our settings class is instantiated like this:</p><div class=highlight><pre><span></span><code><span class=n>settings</span> <span class=o>=</span> <span class=n>MySettings</span><span class=p>(</span><span class=s2>&quot;my_app_name&quot;</span><span class=p>,</span> <span class=n>xdg_config</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre></div><p>Assuming the <code>XDG_CONFIG_HOME</code> variable is not set, the settings file will be saved as <code>~/.config/my_app_name/config.toml</code>.</p><h2 id=post-create-hook>Post-create hook</h2><p>If you need to do some further processing, or set some input from the user after the new config file has been created (for example to fill in the default values with some real data), you can override the <code>__post_create_hook__()</code> method in your class:</p><div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>simple_toml_settings</span> <span class=kn>import</span> <span class=n>TOMLSettings</span>

<span class=k>class</span> <span class=nc>MySettings</span><span class=p>(</span><span class=n>TOMLSettings</span><span class=p>):</span>
<span class=w>    </span><span class=sd>&quot;&quot;&quot;My settings class.&quot;&quot;&quot;</span>

    <span class=c1># Define the settings you want to save</span>
    <span class=n>name</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;My Name&quot;</span>
    <span class=n>age</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>53</span>
    <span class=n>favourite_colour</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;blue&quot;</span>
    <span class=n>favourite_number</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>42</span>
    <span class=n>favourite_foods</span><span class=p>:</span> <span class=nb>list</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&quot;pizza&quot;</span><span class=p>,</span> <span class=s2>&quot;chocolate&quot;</span><span class=p>,</span> <span class=s2>&quot;ice cream&quot;</span><span class=p>]</span>
    <span class=n>sub_settings</span><span class=p>:</span> <span class=nb>dict</span> <span class=o>=</span> <span class=p>{</span>
        <span class=s2>&quot;sub_setting_1&quot;</span><span class=p>:</span> <span class=s2>&quot;sub setting 1 text&quot;</span><span class=p>,</span>
        <span class=s2>&quot;sub_setting_2&quot;</span><span class=p>:</span> <span class=s2>&quot;sub setting 2 text&quot;</span><span class=p>,</span>
    <span class=p>}</span>

    <span class=k>def</span> <span class=nf>__post_create_hook__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
<span class=w>        </span><span class=sd>&quot;&quot;&quot;Post create hook.&quot;&quot;&quot;</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Enter your name: &quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Enter your age: &quot;</span><span class=p>))</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>favourite_colour</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Enter your favourite colour: &quot;</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>favourite_number</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&quot;Enter your favourite number: &quot;</span><span class=p>))</span>
</code></pre></div><div class="admonition info"><p class=admonition-title>Note</p><p>This is a special method that is called automatically after the config file has been created. It is not a normal method and <strong>should not be called directly</strong>. It is <strong>NOT</strong> called when an existing config file is loaded.</p><p>The <code>save()</code> method will be called automatically after the hook has been executed. There is no need to call the <code>super()</code> method in your hook since it is just a placeholder method.</p></div></article></div><script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script></div></main><footer class=md-footer><nav class="md-footer__inner md-grid" aria-label=Footer><a href=../installation/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation"><div class="md-footer__button md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg></div><div class=md-footer__title><span class=md-footer__direction> Previous </span><div class=md-ellipsis> Installation </div></div></a><a href=../future-plans/ class="md-footer__link md-footer__link--next" aria-label="Next: Future Plans"><div class=md-footer__title><span class=md-footer__direction> Next </span><div class=md-ellipsis> Future Plans </div></div><div class="md-footer__button md-icon"><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg></div></a></nav><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class=md-copyright><div class=md-copyright__highlight> © 2023 Grant Ramsay (Seapagan) </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a></div><div class=md-social><a href=https://github.com/seapagan/simple-toml-settings target=_blank rel=noopener title=github.com class=md-social__link><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></a><a href=https://twitter.com/gnramsay_dev target=_blank rel=noopener title=twitter.com class=md-social__link><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a></div></div></div></footer></div><div class=md-dialog data-md-component=dialog><div class="md-dialog__inner md-typeset"></div></div><script id=__config type=application/json>{"base": "..", "features": ["navigation.footer", "navigation.expand"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script><script src=../assets/javascripts/bundle.fe8b6f2b.min.js></script></body></html>